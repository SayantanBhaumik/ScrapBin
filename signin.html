
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="The Kabadiwala is online doorstep scrap pickup service which buys your scrap/junk materials at your place. You can sell Newspapers, Books, Carton, Plastic, Iron, Steel, Copper, Brass, Tin and many more recyclable materials by booking a pickup online.">
    <title>Sign In | The Scrapwala</title>
    <link rel="stylesheet" href="font-awesome.min.css" />
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

    <link rel="stylesheet" href="landing.min.css" />
    
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-532P2ZM');</script>
    <script src="/js/core.min.js"></script>
</head>
<body class="bg-light-soft">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                  
                <a href="/" class="navbar-brand">
                    <img alt="logo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcReUf7QMHBf4s-gxXlUdncb6dNSniNXCaQx7l3okNTho7hufvQb&usqp=CAU" width="80"height="80">
               <span class="text-warning"style="font-size:40px;">Scrapwala </span>
                </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class=""><a href="/Rates">Price List</a></li>
                    <li class=""><a href="/Request">Request Pickup</a></li>
                        <li class="active"><a href="/Account/SignIn">Sign In</a></li>
                        <li class=""><a href="/Account/SignUp">Sign Up</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <br /><br />
    <div class="content p-b-lg">
        <div style="max-width:400px; margin:0 auto;">
    <div class="text-center">
        <h3 class="heading">Sign in to your account</h3>
    </div>
    <div class="hpanel" id="SignContent">
        
<div id="signin_msg"></div>
<div class="panel-body">
    <form method="post" data-ajax="true" data-ajax-url="/Account/Ajax/SignIn?Next=%2FRequest" data-ajax-method="post" data-ajax-begin="onBegin" data-ajax-complete="onComplete" data-ajax-update="#signin_msg" id="signinform">
        <fieldset id="signinfield">
            <div class="form-group">
                <label class="control-label" for="MobileNo">Mobile number</label>
                <input class="form-control" placeholder="Mobile number" type="text" data-val="true" data-val-regex="Mobile number is invalid." data-val-regex-pattern="(\d{10})" data-val-required="Mobile number is required." id="MobileNo" name="MobileNo" value="" />
                <span class="text-danger small field-validation-valid" data-valmsg-for="MobileNo" data-valmsg-replace="true"></span>
            </div>
            <div class="form-group">
                <label class="control-label" id="passlabel" for="Password">Password</label>
                <div class="row">
                    <div class="col-xs-8" id="passfield">
                        <input type="password" class="form-control" placeholder="Password" data-val="true" data-val-required="Password is required." id="Password" name="Password" />
                    </div>
                    <div class="col-xs-4">
                        <a href="#" id="useotpbtn" class="btn btn-sm btn-outline btn-info btn-block" type="button">Send OTP</a>
                    </div>
                </div>
                <span class="text-danger small field-validation-valid" data-valmsg-for="Password" data-valmsg-replace="true"></span>
            </div>
            <div class="form-group text-center">
                <button type="submit" id="signinsubbtn" class="btn btn-success p-l-md p-r-md font-bold">SIGN IN</button>
            </div>
        </fieldset>
    <input name="__RequestVerificationToken" type="hidden" value="CfDJ8IMdjD3eWtNMsgJfjwuwmnf8Ft9s70Izeytx8jy_ICBYdceWnF0F1L_OsQq1iOCHND4tzYTR9w1W8BMhGcMJ5wIHYBnjG_LrjXtLseSzwiq84C3O1p9zzAtlxbJ7p9DI-e0aPfrYzBKb2WM516_LtmM" /></form>
</div>
<div class="panel-footer">
    <span class="text-muted"><span class="p-r-xs">Don't have an account?</span>  <a href="signup.html" class="btn btn-default btn-sm">Create an Account</a></span>
</div>
<script>
    $(function () {
        $.validator.unobtrusive.parse($("#signinform"));
        //$("#signinform").removeData("validator").removeData("unobtrusiveValidation");
        $("#signinform").on("submit", function (e) {
            $(".input-validation-error").closest(".form-group").addClass("has-error");
        });
        $("#signinform").on("focusout keyup", "textarea,input,select", function (e) {
            if ($('#signinform').validate().element(this)) {
                $(this).closest(".form-group").removeClass("has-error");
            } else {
                $(this).closest(".form-group").addClass("has-error");
            }
        });
        $("#useotpbtn").click(function (e) {
            e.preventDefault();
            var username = $("#MobileNo");
            if ($('#signinform').validate().element(username)) {
                var token = $('input:hidden[name="__RequestVerificationToken"]').val();
                
                $("#SignContent").html("<div class='panel-body text-center'><img src='/images/ripple.gif'></div>")
                    ;

                 $.ajax({
                    url: "/OTP/Account/SignIn",
                    beforeSend: function (xhr) {
                        xhr.setRequestHeader("RequestVerificationToken",
                            token);
                    },
                    method: "POST",
                    data: {
                        MobileNo: username.val(),
                        Next: "/Request"
                    },
                    success: function (data) {
                        $("#SignContent").html(data);
                    },
                    error: function () {
                        $("#SignContent").html("<div class='panel-body text-center'><div class='alert alert-danger'>Please check your internet connection and reload the page.</div></div>");
                    }
                });
            } else {
                username.closest(".form-group").addClass("has-error");
            }
        });
    });
    function onBegin() {
       $('#signinsubbtn').html('Signing in'); $('#signinfield').attr('disabled','');
    }
    function onComplete() {
       $('#signinsubbtn').html('SIGN IN'); $('#signinfield').removeAttr('disabled');
    }
</script>

    </div>
</div>
    </div>
    <footer class="p-sm bg-white" style="position:absolute;right:0;left:0;bottom:0;">

       
    <a href="index.html" class="w3-button w3-wide w3-round-xlarge w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>Back to home</a>
   
    </footer>
    

    
</body>
</html>
